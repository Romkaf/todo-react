(this["webpackJsonptodo-react"]=this["webpackJsonptodo-react"]||[]).push([[0],[,,,,,,,function(e,t,o){e.exports={item:"todo-item_item__1hcun",item__delete:"todo-item_item__delete__QtV_b",item_completed:"todo-item_item_completed__3OddF",item__task:"todo-item_item__task__2_7v4",item_editing:"todo-item_item_editing__3z1VE",item__choice:"todo-item_item__choice__37uWW"}},function(e,t,o){e.exports={header__title:"header_header__title__S2SvR",header__choiceAll:"header_header__choiceAll__-LNRD",header__choiceAll_selected:"header_header__choiceAll_selected__2VipH",header__input:"header_header__input__2DHd4"}},,function(e,t,o){e.exports={filter:"filter_filter__Wh2jy",filter__btn:"filter_filter__btn__3NoZH",filter__btn_active:"filter_filter__btn_active__2imUc"}},function(e,t,o){e.exports={app:"app_app__2qDTA"}},,,function(e,t,o){e.exports={footer:"footer_footer__EQtlF"}},function(e,t,o){e.exports={counter:"counter_counter__2C2zj"}},function(e,t,o){e.exports={btn:"btn-clear-completed_btn__3XeC0"}},,function(e,t,o){e.exports=o(25)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),l=o(13),r=o.n(l),i=(o(23),o(9)),c=o(17),d=o(2),s=o(3),u=o(6),m=o(5),h=o(1),p=o(8),f=o.n(p),_=13,v=27,y="todos",g="filter",b="allCompleted",A=o(4),T=o.n(A),C=function(e){Object(u.a)(o,e);var t=Object(m.a)(o);function o(){var e;Object(d.a)(this,o);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={value:""},e.handleValidateValue=function(t){var o=t.target.value.trim().replace(/\s+/g," ");o&&e.props.onTodoAdd(o),e.setState({value:""})},e.handleInputBlur=function(t){"blur"===t.type&&e.handleValidateValue(t)},e.handleInputEnter=function(t){t.keyCode===_&&e.handleValidateValue(t)},e.handleInputChange=function(t){return e.setState({value:t.target.value})},e}return Object(s.a)(o,[{key:"render",value:function(){var e=f.a.header,t=f.a.header__title,o=f.a.header__choiceAll,n=f.a.header__choiceAll_selected,l=f.a.header__input,r=this.props,i=r.todosArray,c=r.onAllTodoSelect,d=T()(o,Object(h.a)({hidden:0===i.length},n,i.every((function(e){return e.completed}))));return a.a.createElement("header",{className:e},a.a.createElement("h1",{className:t},"ToDo"),a.a.createElement("span",{className:d,onClick:c},"\u2039"),a.a.createElement("input",{className:l,type:"text",placeholder:"\u0427\u0442\u043e \u043d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?",onChange:this.handleInputChange,value:this.state.value,onBlur:this.handleInputBlur,onKeyDown:this.handleInputEnter}))}}]),o}(n.PureComponent),E=o(7),S=o.n(E),k=(o(24),function(e){Object(u.a)(o,e);var t=Object(m.a)(o);function o(){var e;Object(d.a)(this,o);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={visibilityElement:"visible",isEditing:!1,value:""},e.handleTaskDblClick=function(t){e.setState({visibilityElement:"hidden",isEditing:!0,value:t.target.textContent})},e.handleTodoEditingComplete=function(t){var o=t.target,n=t.keyCode===v?e.props.title:o.value.trim().replace(/\s+/g," ");n?e.props.onTodoEdit(n):e.props.onTodoDelete(),e.setState({visibilityElement:"visible",isEditing:!1})},e.handleInputBlur=function(t){"blur"===t.type&&e.handleTodoEditingComplete(t)},e.handleInputKeyDown=function(t){t.keyCode!==_&&t.keyCode!==v||e.handleTodoEditingComplete(t)},e.handleInputChange=function(t){e.setState({value:t.target.value})},e}return Object(s.a)(o,[{key:"render",value:function(){var e,t=this.props,o=t.title,n=t.completed,l=t.onTodoSelect,r=t.onTodoDelete,i=S.a.item,c=S.a.item_completed,d=S.a.item_editing,s=S.a.item__choice,u=S.a.item__task,m=S.a.item__delete,p=T()(i,(e={},Object(h.a)(e,c,!0===n),Object(h.a)(e,d,!0===this.state.isEditing),e)),f="hidden"===this.state.visibilityElement?"hidden":"",_=!0===n;return a.a.createElement("div",{className:p},a.a.createElement("input",{className:"".concat(s,"  ").concat(f),type:"checkbox",onClick:l,checked:_,readOnly:!0}),a.a.createElement("label",{className:f},"\u2713"),this.state.isEditing?a.a.createElement("input",{className:u,onKeyDown:this.handleInputKeyDown,onBlur:this.handleInputBlur,value:this.state.value,onChange:this.handleInputChange,autoFocus:!0}):a.a.createElement("span",{className:u,onDoubleClick:this.handleTaskDblClick},o),a.a.createElement("button",{className:"".concat(m," ").concat(f),onClick:r},a.a.createElement("span",{role:"img","aria-label":"cross"},"\u274c")))}}]),o}(n.PureComponent)),O=function(e){var t=e.todosArray,o=e.onTodoSelect,n=e.onTodoDelete,l=e.onTodoEdit,r=t.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(k,{title:e.title,completed:e.completed,onTodoSelect:function(){return o(e.id)},onTodoDelete:function(){return n(e.id)},onTodoEdit:function(t){return l(e.id,t)}}))}));return a.a.createElement("ul",{className:"todo-list"},r)},j=o(14),D=o.n(j),N=o(15),I=o.n(N),x=function(e){var t=e.activeTodosAmount;return a.a.createElement("span",{className:I.a.counter},"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0439:",a.a.createElement("b",null,t))},w=o(10),F=o.n(w),V=function(e){var t=e.onFilterChange,o=e.filter,n=function(e){t(e.target.dataset.filter)},l=[{title:"\u0412\u0441\u0435",filter:"all"},{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",filter:"active"},{title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435",filter:"completed"}].map((function(e){var t=T()(F.a.filter__btn,Object(h.a)({},F.a.filter__btn_active,e.filter===o));return a.a.createElement("button",{className:t,type:"button",key:e.filter,"data-filter":e.filter,onClick:n},e.title)}));return a.a.createElement("div",{className:"filter"},l)},B=o(16),L=o.n(B),J=function(e){Object(u.a)(o,e);var t=Object(m.a)(o);function o(){return Object(d.a)(this,o),t.apply(this,arguments)}return Object(s.a)(o,[{key:"shouldComponentUpdate",value:function(e){return 0===this.props.completedTodosAmount&&e.completedTodosAmount>0||this.props.completedTodosAmount>0&&0===e.completedTodosAmount}},{key:"render",value:function(){var e=this.props,t=e.completedTodosAmount,o=e.onCompletedDelete,n=T()(L.a.btn,{hidden:0===t});return a.a.createElement("button",{className:n,onClick:o},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435")}}]),o}(n.Component),K=function(e){var t=e.activeTodosAmount,o=e.completedTodosAmount,n=e.onFilterChange,l=e.filter,r=e.onCompletedTodoDelete;return a.a.createElement("footer",{className:D.a.footer},a.a.createElement(x,{activeTodosAmount:t}),a.a.createElement(V,{onFilterChange:n,filter:l}),a.a.createElement(J,{completedTodosAmount:o,onCompletedDelete:r}))},H=o(11),P=o.n(H),U=function(e){Object(u.a)(o,e);var t=Object(m.a)(o);function o(){var e;Object(d.a)(this,o);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={todosArray:[],filter:"all",allCompleted:!1},e.id=1,e.handleFilterChange=function(t){e.setState({filter:t})},e.filterTodos=function(e,t){switch(t){case"all":return e;case"active":return e.filter((function(e){return!e.completed}));case"completed":return e.filter((function(e){return e.completed}));default:return e}},e.handleTodoAdd=function(t){e.setState({todosArray:[].concat(Object(c.a)(e.state.todosArray),[e.createTodo(t)])})},e.handleTodoDelete=function(t){e.setState((function(e){return{todosArray:e.todosArray.filter((function(e){return!(e.id===t)}))}}))},e.handleCompletedTodoDelete=function(){e.setState((function(e){return{todosArray:e.todosArray.filter((function(e){return!e.completed}))}}))},e.handleTodoSelect=function(t){e.setState((function(e){return{todosArray:e.todosArray.map((function(e){return e.id===t?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e}))}})),e.handleAllCompletedChange()},e.handleTodoEdit=function(t,o){e.setState((function(e){return{todosArray:e.todosArray.map((function(e){return e.id===t&&(e.title=o),e}))}}))},e.handleAllTodosSelect=function(){e.setState((function(e){var t=e.todosArray,o=e.allCompleted;return{todosArray:t.map((function(e){return e.completed===o?Object(i.a)(Object(i.a)({},e),{},{completed:!o}):e})),allCompleted:!o}}))},e.handleAllCompletedChange=function(){e.setState((function(e){return{allCompleted:!!e.todosArray.every((function(e){return!0===e.completed}))}}))},e.setLocalStorage=function(e,t){localStorage.setItem(t,JSON.stringify(e))},e.loadLocalStorage=function(){e.setState({todosArray:JSON.parse(localStorage.getItem(y))||[],filter:JSON.parse(localStorage.getItem(g))||"all",allCompleted:JSON.parse(localStorage.getItem(b))})},e}return Object(s.a)(o,[{key:"createTodo",value:function(e){return{title:e,id:this.id++,completed:!1}}},{key:"componentDidMount",value:function(){this.loadLocalStorage()}},{key:"componentDidUpdate",value:function(e,t){var o=this.state,n=o.todosArray,a=o.filter,l=o.allCompleted;t.todosArray!==n&&(this.setLocalStorage(n,y),this.id=0===n.length?1:n[n.length-1].id+1),t.filter!==a&&this.setLocalStorage(a,g),t.allCompleted!==l&&this.setLocalStorage(l,b)}},{key:"render",value:function(){var e=this.state,t=e.todosArray,o=e.filter,n=t.filter((function(e){return!1===e.completed})).length,l=t.length-n,r=this.filterTodos(t,o);return a.a.createElement("div",{className:P.a.app},a.a.createElement(C,{onTodoAdd:this.handleTodoAdd,todosArray:t,onAllTodoSelect:this.handleAllTodosSelect}),a.a.createElement("main",null,a.a.createElement(O,{todosArray:r,onTodoSelect:this.handleTodoSelect,onTodoDelete:this.handleTodoDelete,onTodoEdit:this.handleTodoEdit})),t.length>0&&a.a.createElement(K,{className:P.a.hidden,activeTodosAmount:n,completedTodosAmount:l,onFilterChange:this.handleFilterChange,filter:o,onCompletedTodoDelete:this.handleCompletedTodoDelete}))}}]),o}(n.PureComponent);r.a.render(a.a.createElement(U,null),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.29f139dd.chunk.js.map