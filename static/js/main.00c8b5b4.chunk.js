(this["webpackJsonptodo-react"]=this["webpackJsonptodo-react"]||[]).push([[0],[,,,,,,,,,,function(e,t,o){e.exports=o(23)},,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var n=o(0),r=o.n(n),a=o(9),i=o.n(a),l=o(6),c=o(7),d=o(5),s=o(1),u=o(2),m=o(4),f=o(3),p=(o(15),function(e){Object(m.a)(o,e);var t=Object(f.a)(o);function o(){var e;Object(s.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).keyEnter=13,e.todoInputHandler=function(t){var o=t.target.value.trim().replace(/\s+/g," ");t.keyCode!==e.keyEnter&&"blur"!==t.type||!o||(e.props.addTodo(o),t.target.value="")},e}return Object(u.a)(o,[{key:"render",value:function(){var e=this.props,t=e.todosArray,o=e.selectAll,n=t.length>0?"visible":"hidden",a=t.every((function(e){return!0===e.completed}))?1:.2,i=t.every((function(e){return!0===e.completed}))?"ckecked":"";return r.a.createElement("header",{className:"todo-header"},r.a.createElement("h1",{className:"todo-header__title"},"ToDo"),r.a.createElement("input",{className:"todo-header__choice-all",id:"choice-all",type:"checkbox",onClick:o,checked:i,readOnly:!0}),r.a.createElement("label",{style:{opacity:a,visibility:n},htmlFor:"choice-all"},"\u2039"),r.a.createElement("input",{className:"todo-header__input",type:"text",placeholder:"\u0427\u0442\u043e \u043d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?",onBlur:this.todoInputHandler,onKeyDown:this.todoInputHandler}))}}]),o}(n.PureComponent)),v=(o(16),function(e){Object(m.a)(o,e);var t=Object(f.a)(o);function o(){var e;Object(s.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={visibilityElement:"visible"},e.onTaskDblClick=function(t){t.target.classList.add("hidden"),e.setState({visibilityElement:"hidden"}),t.target.insertAdjacentHTML("beforebegin",'<input class="todo-item__task" type="text">');var o=t.target.previousElementSibling;o.value=t.target.textContent,o.focus(),o.parentNode.classList.add("todo-item--editing"),o.addEventListener("blur",e.finishTodoEditing),o.addEventListener("keydown",e.finishTodoEditing)},e.finishTodoEditing=function(t){if(13===t.keyCode||"blur"===t.type||27===t.keyCode){var o=t.target;if("visible"===e.state.visibilityElement)return;var n=27===t.keyCode?e.props.title:o.value.trim().replace(/\s+/g," ");if(e.setState({visibilityElement:"visible"}),e.deleteEmptyTask(t,n))return;e.props.editTodo(n),o.parentNode.classList.remove("todo-item--editing"),o.nextElementSibling.classList.remove("hidden"),o.remove()}},e.deleteEmptyTask=function(t,o){if(!o)return t.target.parentNode.remove(),e.props.deleteTodo(),"return"},e}return Object(u.a)(o,[{key:"render",value:function(){var e=this.props,t=e.title,o=e.completed,n=e.selectTodo,a=e.deleteTodo,i=!0===o?"todo-item--completed":"",l=!0===o,c={visibility:this.state.visibilityElement};return r.a.createElement("div",{className:"todo-item ".concat(i)},r.a.createElement("input",{className:"todo-item__choice",type:"checkbox",style:c,onClick:n,checked:l,readOnly:!0}),r.a.createElement("label",{style:c},"\u2713"),r.a.createElement("span",{className:"todo-item__task",onDoubleClick:this.onTaskDblClick},t),r.a.createElement("button",{className:"todo-item__delete",style:c,onClick:a},"\u274c"))}}]),o}(n.PureComponent)),h=(o(17),function(e){var t=e.todosArray,o=e.selectTodo,n=e.deleteTodo,a=e.editTodo,i=t.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(v,{title:e.title,completed:e.completed,selectTodo:function(){return o(e.id)},deleteTodo:function(){return n(e.id)},editTodo:function(t){return a(e.id,t)}}))}));return r.a.createElement("ul",{className:"todo-list"},i)}),y=(o(18),o(19),function(e){var t=e.activeTodosAmount;return r.a.createElement("span",{className:"counter"},"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0439:",r.a.createElement("b",null,t))}),b=(o(20),function(e){Object(m.a)(o,e);var t=Object(f.a)(o);function o(){var e;Object(s.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).buttons=[{title:"\u0412\u0441\u0435",filter:"all"},{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",filter:"active"},{title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435",filter:"completed"}],e}return Object(u.a)(o,[{key:"render",value:function(){var e=this.props,t=e.changeFilter,o=e.filter,n=this.buttons.map((function(e){var n=e.filter===o?"filter__btn--active":"";return r.a.createElement("button",{className:"filter__btn ".concat(n),type:"button",key:e.filter,onClick:function(){return t(e.filter)}},e.title)}));return r.a.createElement("div",{className:"filter"},n)}}]),o}(n.PureComponent)),T=(o(21),function(e){var t=e.completedTodosAmount,o=e.deleteCompleted,n=t>0?"visible":"hidden";return r.a.createElement("button",{className:"btn-clear-completed",style:{visibility:n},onClick:o},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435")}),g=function(e){Object(m.a)(o,e);var t=Object(f.a)(o);function o(){return Object(s.a)(this,o),t.apply(this,arguments)}return Object(u.a)(o,[{key:"render",value:function(){var e=this.props,t=e.activeTodosAmount,o=e.completedTodosAmount,n=e.allTodosAmount,a=e.changeFilter,i=e.filter,l=e.deleteCompleted,c=n>0?"":"hidden";return r.a.createElement("footer",{className:"todo-footer ".concat(c)},r.a.createElement(y,{activeTodosAmount:t}),r.a.createElement(b,{changeFilter:a,filter:i}),r.a.createElement(T,{completedTodosAmount:o,deleteCompleted:l}))}}]),o}(n.PureComponent),E=(o(22),function(e){Object(m.a)(o,e);var t=Object(f.a)(o);function o(){var e;Object(s.a)(this,o);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={todosArray:[],filter:"all"},e.id=1,e.changeFilter=function(t){e.setState({filter:t})},e.filterTodos=function(e,t){switch(t){case"all":return e;case"active":return e.filter((function(e){return!e.completed}));case"completed":return e.filter((function(e){return e.completed}));default:return e}},e.addTodo=function(t){var o=e.createTodo(t);e.setState((function(e){var t=e.todosArray;return{todosArray:[].concat(Object(d.a)(t),[o])}}))},e.deleteTodo=function(t){e.setState((function(e){var o=e.todosArray,n=o.findIndex((function(e){return e.id===t}));return{todosArray:[].concat(Object(d.a)(o.slice(0,n)),Object(d.a)(o.slice(n+1)))}}))},e.deleteCompletedTodo=function(){e.setState((function(e){return{todosArray:e.todosArray.filter((function(e){return!1===e.completed}))}}))},e.changePropertyTodo=function(e,t,o,n){var r=e.findIndex((function(e){return e.id===t})),a=e[r],i="completed"===o?!a[o]:n,s=Object(c.a)(Object(c.a)({},a),{},Object(l.a)({},o,i));return[].concat(Object(d.a)(e.slice(0,r)),[s],Object(d.a)(e.slice(r+1)))},e.selectTodo=function(t){e.setState((function(o){var n=o.todosArray;return{todosArray:e.changePropertyTodo(n,t,"completed")}}))},e.editTodo=function(t,o){e.setState((function(n){var r=n.todosArray;return{todosArray:e.changePropertyTodo(r,t,"title",o)}}))},e.selectAllTodo=function(){e.setState((function(e){var t=e.todosArray;return{todosArray:t.every((function(e){return!0===e.completed}))?t.map((function(e){return Object.assign(e,{completed:!1})})):t.map((function(e){return Object.assign(e,{completed:!0})}))}}))},e.setLocalStorage=function(e){var t=JSON.stringify(e);localStorage.setItem("todos",t)},e.loadLocalStorage=function(){var t=JSON.parse(localStorage.getItem("todos"))?JSON.parse(localStorage.getItem("todos")):[];e.setState({todosArray:t})},e}return Object(u.a)(o,[{key:"createTodo",value:function(e){return{title:e,id:this.id++,completed:!1}}},{key:"componentDidMount",value:function(){this.loadLocalStorage()}},{key:"componentDidUpdate",value:function(){var e=this.state.todosArray;this.setLocalStorage(e),this.id=0===e.length?1:e[e.length-1].id+1}},{key:"render",value:function(){var e=this.state,t=e.todosArray,o=e.filter,n=t.filter((function(e){return!1===e.completed})).length,a=t.length-n,i=this.filterTodos(t,o);return r.a.createElement("div",{className:"todo-app"},r.a.createElement(p,{addTodo:this.addTodo,todosArray:t,selectAll:this.selectAllTodo}),r.a.createElement("main",null,r.a.createElement(h,{todosArray:i,selectTodo:this.selectTodo,deleteTodo:this.deleteTodo,editTodo:this.editTodo})),r.a.createElement(g,{activeTodosAmount:n,completedTodosAmount:a,allTodosAmount:t.length,changeFilter:this.changeFilter,filter:o,deleteCompleted:this.deleteCompletedTodo}))}}]),o}(n.PureComponent));i.a.render(r.a.createElement(E,null),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.00c8b5b4.chunk.js.map