(this["webpackJsonptodo-react"]=this["webpackJsonptodo-react"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports={item:"Todo-item_item__1ZlDl",item__delete:"Todo-item_item__delete__1rd50",item_completed:"Todo-item_item_completed__uK0Zn",item__task:"Todo-item_item__task__1jFce",item_editing:"Todo-item_item_editing__3v0xt",item__choice:"Todo-item_item__choice__2tvre"}},function(e,t,n){e.exports={header__title:"Header_header__title__2hFUs",header__choiceAll:"Header_header__choiceAll__1fHHi",header__choiceAll_selected:"Header_header__choiceAll_selected__2ogM0",header__input:"Header_header__input__ep3tJ"}},,function(e,t,n){e.exports={filter:"Filter_filter__3RCIX",filter__btn:"Filter_filter__btn__A1KCQ",filter__btn_active:"Filter_filter__btn_active__2BM0M"}},function(e,t,n){e.exports={app:"App_app__3BT4Y"}},,,function(e,t,n){e.exports={footer:"Footer_footer__7dIj9"}},function(e,t,n){e.exports={counter:"Counter_counter__3RupU"}},function(e,t,n){e.exports={btn:"Btn-clear-completed_btn__3vz4X"}},,function(e,t,n){e.exports=n(25)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),l=n(13),r=n.n(l),i=(n(23),n(9)),c=n(17),d=n(3),s=n(4),u=n(6),m=n(5),p=n(1),h=n(8),f=n.n(h),_=13,v=27,y=n(2),T=n.n(y),b=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={value:""},e.handleValidateValue=function(t){var n=t.target.value.trim().replace(/\s+/g," ");n&&e.props.onTodoAdd(n),e.setState({value:""})},e.handleInputBlur=function(t){"blur"===t.type&&e.handleValidateValue(t)},e.handleInputEnter=function(t){t.keyCode===_&&e.handleValidateValue(t)},e.handleInputChange=function(t){return e.setState({value:t.target.value})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=f.a.header,t=f.a.header__title,n=f.a.header__choiceAll,o=f.a.header__choiceAll_selected,l=f.a.header__input,r=this.props,i=r.todosArray,c=r.onAllTodoSelect,d=T()(n,Object(p.a)({hidden:0===i.length},o,i.every((function(e){return e.completed}))));return a.a.createElement("header",{className:e},a.a.createElement("h1",{className:t},"ToDo"),a.a.createElement("span",{className:d,onClick:c},"\u2039"),a.a.createElement("input",{className:l,type:"text",placeholder:"\u0427\u0442\u043e \u043d\u0430\u0434\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?",onChange:this.handleInputChange,value:this.state.value,onBlur:this.handleInputBlur,onKeyDown:this.handleInputEnter}))}}]),n}(o.Component),g=n(7),C=n.n(g),A=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={visibilityElement:"visible",isEditing:!1,value:""},e.handleTaskDblClick=function(t){e.setState({visibilityElement:"hidden",isEditing:!0,value:t.target.textContent})},e.handleTodoEditingComplete=function(t){var n=t.target,o=t.keyCode===v?e.props.title:n.value.trim().replace(/\s+/g," ");o?e.props.onTodoEdit(o):e.props.onTodoDelete(),e.setState({visibilityElement:"visible",isEditing:!1})},e.handleInputBlur=function(t){"blur"===t.type&&e.handleTodoEditingComplete(t)},e.handleInputKeyDown=function(t){t.keyCode!==_&&t.keyCode!==v||e.handleTodoEditingComplete(t)},e.handleInputChange=function(t){e.setState({value:t.target.value})},e}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.completed!==e.completed||this.state.isEditing!==t.isEditing||this.state.value!==t.value}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.completed,o=e.onTodoSelect,l=e.onTodoDelete,r=this.state,i=r.visibilityElement,c=r.isEditing,d=r.value,s=C.a.item,u=C.a.item_completed,m=C.a.item_editing,h=C.a.item__choice,f=C.a.item__task,_=C.a.item__delete,v=function(e){var t;switch(e){case s:return T()(s,(t={},Object(p.a)(t,u,n),Object(p.a)(t,m,c),t));default:return T()(e,{hidden:"hidden"===i})}},y=!!n;return a.a.createElement("div",{className:v(s)},a.a.createElement("input",{className:v(h),type:"checkbox",onClick:o,checked:y,readOnly:!0}),a.a.createElement("label",{className:v()},"\u2713"),c?a.a.createElement("input",{className:f,onKeyDown:this.handleInputKeyDown,onBlur:this.handleInputBlur,value:d,onChange:this.handleInputChange,autoFocus:!0}):a.a.createElement("span",{className:f,onDoubleClick:this.handleTaskDblClick},t),a.a.createElement("button",{className:v(_),onClick:l},a.a.createElement("span",{role:"img","aria-label":"cross"},"\u274c")))}}]),n}(o.Component),E=function(e){var t=e.todosArray,n=e.onTodoSelect,o=e.onTodoDelete,l=e.onTodoEdit,r=t.map((function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(A,{title:e.title,completed:e.completed,onTodoSelect:function(){return n(e.id)},onTodoDelete:function(){return o(e.id)},onTodoEdit:function(t){return l(e.id,t)}}))}));return a.a.createElement("ul",{className:"todo-list"},r)},S=n(14),k=n.n(S),O=n(15),j=n.n(O),D=Object(o.memo)((function(e){var t=e.activeTodosAmount;return a.a.createElement("span",{className:j.a.counter},"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u0439:",a.a.createElement("b",null,t))})),N=n(10),I=n.n(N),F=Object(o.memo)((function(e){var t=e.onFilterChange,n=e.filter,o=I.a.filter,l=I.a.filter__btn,r=I.a.filter__btn_active,i=function(e){t(e.target.dataset.filter)},c=[{title:"\u0412\u0441\u0435",filter:"all"},{title:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435",filter:"active"},{title:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435",filter:"completed"}].map((function(e){var t=T()(l,Object(p.a)({},r,e.filter===n));return a.a.createElement("button",{className:t,type:"button",key:e.filter,"data-filter":e.filter,onClick:i},e.title)}));return a.a.createElement("div",{className:o},c)})),x=n(16),w=n.n(x),B=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"shouldComponentUpdate",value:function(e){return 0===this.props.completedTodosAmount&&e.completedTodosAmount>0||this.props.completedTodosAmount>0&&0===e.completedTodosAmount}},{key:"render",value:function(){var e=this.props,t=e.completedTodosAmount,n=e.onCompletedDelete,o=T()(w.a.btn,{hidden:0===t});return a.a.createElement("button",{className:o,onClick:n},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u044b\u0435")}}]),n}(o.Component),H=function(e){var t=e.activeTodosAmount,n=e.completedTodosAmount,o=e.onFilterChange,l=e.filter,r=e.onCompletedTodoDelete;return a.a.createElement("footer",{className:k.a.footer},a.a.createElement(D,{activeTodosAmount:t}),a.a.createElement(F,{onFilterChange:o,filter:l}),a.a.createElement(B,{completedTodosAmount:n,onCompletedDelete:r}))},J=n(11),K=n.n(J),V=(n(24),function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(d.a)(this,n);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={todosArray:[],filter:"all",allCompleted:!1},e.id=1,e.handleFilterChange=function(t){e.setState({filter:t})},e.filterTodos=function(e,t){switch(t){case"all":return e;case"active":return e.filter((function(e){return!e.completed}));case"completed":return e.filter((function(e){return e.completed}));default:return e}},e.handleTodoAdd=function(t){e.setState({todosArray:[].concat(Object(c.a)(e.state.todosArray),[e.createTodo(t)]),allCompleted:!1})},e.handleTodoDelete=function(t){e.setState((function(e){return{todosArray:e.todosArray.filter((function(e){return!(e.id===t)}))}}))},e.handleCompletedTodoDelete=function(){e.setState((function(e){return{todosArray:e.todosArray.filter((function(e){return!e.completed})),allCompleted:!1}}))},e.handleTodoSelect=function(t){e.setState((function(e){return{todosArray:e.todosArray.map((function(e){return e.id===t?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e}))}})),e.handleAllCompletedChange()},e.handleTodoEdit=function(t,n){e.setState((function(e){return{todosArray:e.todosArray.map((function(e){return e.id===t&&(e.title=n),e}))}}))},e.handleAllTodosSelect=function(){var t=e.state,n=t.todosArray,o=t.allCompleted;e.setState({todosArray:n.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:!o})})),allCompleted:!o})},e.handleAllCompletedChange=function(){e.setState((function(e){return{allCompleted:e.todosArray.every((function(e){return e.completed}))}}))},e.setLocalStorage=function(e,t){localStorage.setItem(t,JSON.stringify(e))},e.loadLocalStorage=function(){var t=JSON.parse(localStorage.getItem("state")),n=t.todosArray,o=t.filter,a=t.allCompleted;e.setState({todosArray:n||[],filter:o||"all",allCompleted:a})},e}return Object(s.a)(n,[{key:"createTodo",value:function(e){return{title:e,id:this.id++,completed:!1}}},{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("state"))&&this.loadLocalStorage()}},{key:"componentDidUpdate",value:function(e){var t=this.state.todosArray;this.setLocalStorage(this.state,"state"),this.id=0===t.length?1:t[t.length-1].id+1}},{key:"render",value:function(){var e=this.state,t=e.todosArray,n=e.filter,o=e.allCompleted,l=t.filter((function(e){return!1===e.completed})).length,r=t.length-l,i=this.filterTodos(t,n);return a.a.createElement("div",{className:K.a.app},a.a.createElement(b,{onTodoAdd:this.handleTodoAdd,todosArray:t,onAllTodoSelect:this.handleAllTodosSelect,marker:o}),a.a.createElement("main",null,a.a.createElement(E,{todosArray:i,onTodoSelect:this.handleTodoSelect,onTodoDelete:this.handleTodoDelete,onTodoEdit:this.handleTodoEdit})),t.length>0&&a.a.createElement(H,{className:K.a.hidden,activeTodosAmount:l,completedTodosAmount:r,onFilterChange:this.handleFilterChange,filter:n,onCompletedTodoDelete:this.handleCompletedTodoDelete}))}}]),n}(o.PureComponent));r.a.render(a.a.createElement(V,null),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.c93ff6ea.chunk.js.map